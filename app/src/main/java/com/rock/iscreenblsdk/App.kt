package com.rock.iscreenblsdk

import android.app.Application
import android.content.Context
import com.rockstreamer.iscreensdk.di.contentModule
import com.rockstreamer.iscreensdk.di.networkModule
import com.rockstreamer.iscreensdk.di.viewModelModule
import com.rockstreamer.iscreensdk.utils.ISCREEN_SHAREDPREFERANCE
import com.rockstreamer.iscreensdk.utils.iScreenSDKInit
import com.rockstreamer.iscreensdk.utils.loginState
import org.koin.android.ext.koin.androidContext
import org.koin.core.context.startKoin

class App: Application() {

    override fun onCreate() {
        super.onCreate()
        loginState = getSharedPreferences(ISCREEN_SHAREDPREFERANCE, Context.MODE_PRIVATE)
        iScreenSDKInit(apiToken = "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Mzg1OTMzMiwicHJvdmlkZXJfaWQiOiJ3UGY2b1BzajVCSlVGSk1zSHpDZkhDIiwicm9sZSI6MCwidXNlcm5hbWUiOiIrODgwMTgxNjQ4OTAyNyIsInBsYXRmb3JtIjoiaXNjcmVlbiIsInN1YnNjcmliZSI6dHJ1ZSwicGFja2FnZUluZm8iOnsibmFtZSI6Ik1vbnRobHlTdWJzICggRXhwaXJlIG9uIDIwMjQtMTEtMTQgKSIsImRlc2NyaXB0aW9uIjoiTW9udGhseVN1YnMgKCBFeHBpcmUgb24gMjAyNC0xMS0xNCApIiwicHJpY2UiOiI4OSIsInVuaXQiOiJCRFQiLCJjb3VudHJ5Q29kZSI6IkJEIiwiY29sb3JDb2RlIjpudWxsLCJwcm9kdWN0SWQiOiJJU0NSRUVOX1NTTF9QTEFOXzEiLCJwYXltZW50TWV0aG9kVHlwZSI6InNzbGNvbW1lcnoiLCJleHBpcmVEYXRlIjoiMjAyNC0xMS0xNCJ9LCJpc1RWT0QiOnRydWUsInR2b2RFeHBpcmVEYXRlIjoiMjAyNC0xMS0xNCIsImlhdCI6MTcyOTAyODE2NiwiZXhwIjoxNzI5MTE0NTY2fQ.PKV8i_cMrzHMI_FadF84uPv4Ac6yz--XMdWzFl9Egz7c86b_8HJLHEM9VN4NsfTomTP5efWE1rWMOECmzC6Q8MWP0h6krm33h8_3bAXUSB5FOucq1to_XExeW5K1r-cBrkuYhTruD2Q1zYaz9F_kIjvRzwtZZozPOVCIc4vyguhaq-1qRqYyaidV1DhLbrtnFafos22a2U-3EHgFLmTaPTAQlS1s5d2zT9Ec8uyUO_--DoKysTA00pA9YG0czyNZX4fAvljm0YD_IPU5IqjRU_dO8cAMVkYElTtrnJqMMeUvAlCINVIzjzEQD6cLaIGZWy1smpVjGe5y3m0cH0xX3GYrhxJPqqbJc01JPxGJaSv7pOgwH6EqOXFgSt7zbhYkR7GW7w0E2408vyGg5RyeN7letN_uydA_dQl3tEi_tP6XjGjjn2HH5IFk4_9Y5Hvkpyum1JLhMLz2IT-574YJzTZmFGVAatLMewPKkEIS_ug3f3Blq4Wr5quYQl34P_nh-uCZ9Ktfjh3l09D7Zqf6NRBp68Ki3YCkzHdqQGWWC6mvbcpaKiNGdoSGrMuQ4BLcdnzyfeVPMX2V2beUSj7LTj7wRCymWB_u2vJnJP_oRIMyUhPnTjB_gVnAJB2uiOQ9LwQU0dd5vnh8chgFO61Rse5LbKGOxxi8DB5TmMgfAzM")
        startKoin {
            androidContext(this@App)
            modules(listOf(networkModule , contentModule , viewModelModule))
        }
    }
}